<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link defer rel="stylesheet" href="/assets/css/dealer.css" />
    <script src="/socket.io/socket.io.js"></script>
    <script>
      const rawData = '<%- JSON.stringify(data) %>';
      const data = JSON.parse(rawData);
    </script>

    <!-- <script src="/script/dealer.js" defer></script> -->
    <title>Dealer</title>
  </head>
  <body>
    <div class="main">
      <div class="code">
        <p style="display: inline-block">Mã phòng :</p>
        <h4 style="display: inline-block"><%= data.roomId %></h4>
      </div>
      <div class="teammate">
        <ul class="list-group row list-player" id="player-list">
          <% const players = data.players; %> <% const dealer = data.dealer; %>
          <% for(let i=0; i < players.length; i++) { %>
          <li class="list-group-item col-md-2 col-xl-3 list-player-item">
            <div class="every-teammate">
              <div class="header-item d-flex justify-content-center">
                <div class="w-75 clearfix">
                  <p class="float-start"><%= players[i].playerName %></p>
                  <p class="float-end">Cược : <%= players[i].bet %></p>
                </div>
              </div>
              <div class="body-item">
                <div class="number-card"><%= players[i].curCards.length %></div>
              </div>
            </div>
          </li>
          <% } %>
        </ul>
      </div>
      <div class="dealer row">
        <div
          class="start col-3 d-flex justify-content-around align-items-center"
        >
          <button type="button" class="btn btn-info">Phát bài</button>
          <button type="button" class="btn btn-secondary">Chơi lại</button>
          <button type="button" class="btn btn-danger">Thoát</button>
        </div>
        <div class="body col-6">
          <div>
            <ul
              class="list-group row list-dealer-card"
              id="list-dealer-card-item"
            >
              <% for(let i=0; i < dealer.curCards.length; i++) { %>
              <li class="list-group-item col-2 list-dealer-card-item">
                <div class="item">card</div>
              </li>
              <% } %>
            </ul>
          </div>
        </div>
        <div class="end col-3 d-flex justify-content-start align-items-center">
          <button type="button" class="btn btn-success">Rút bài</button>
        </div>
      </div>
    </div>
  </body>
  <script src="/script/sub-script/dealer.js"></script>
</html>
